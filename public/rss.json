{
    "version": "https://jsonfeed.org/version/1",
    "title": "Maur√≠cio Witter | RSS Feed",
    "home_page_url": "https://rwietterc.xyz",
    "feed_url": "https://rwietterc.xyz/rss.json",
    "description": "RSS feed for Maur√≠cio Witter blog",
    "icon": "https://rwietterc.xyz/icons/mstile-310x310.png",
    "author": {
        "name": "Maur√≠cio Witter",
        "url": "https://twitter.com/rwietter"
    },
    "items": [
        {
            "id": "https://rwietterc.xyz/blog/article/preferir-a-duplicacao-sobre-a-abstracao-e-realmente-o-melhor-caminho",
            "content_html": "<p>Hoje vamos falar um pouco do princ√≠pio do desenvolvimento de software DRY (Don't Repeat Yourself) e suas implica√ß√µes. O DRY √© um princ√≠pio relacionado duplica√ß√£o de c√≥digo e abstra√ß√µes. Falaremos sobre o conceito de Rule of Three proposto por <a href=\"https://martinfowler.com/\">Martin Fowler</a> no seu livro Refactoring, falaremos sobre o conceito AHA (Avoid Hasty Abstractions) proposto por <a href=\"https://kentcdodds.com/\">Kent C. Dodds</a> e, tamb√©m, sobre conceito <a href=\"https://dev.to/wuz/stop-trying-to-be-so-dry-instead-write-everything-twice-wet-5g33\">WET</a> (Write Everything Twice) proposto por <a href=\"https://dev.to/wuz\">Conlin Durbin</a>.</p>\n<p>Antes de tudo, vamos ver um exemplo do que seria duplica√ß√£o de c√≥digo para entender a exist√™ncia desses conceitos.</p>\n<p>A duplica√ß√£o de c√≥digo (a.k.a copiar/colar), nada mais √© do que <strong>repetir o mesmo c√≥digo em dois ou mais locais da base de c√≥digo</strong>, essa duplica√ß√£o traz consigo uma <strong>s√©rie de problemas</strong>, entre eles, a <strong>redund√¢ncia de c√≥digo, bugs no c√≥digo repetido em diferentes componentes e a cria√ß√£o de bugs ao dar manuten√ß√£o em uma das duplica√ß√µes e esquecer a outra</strong>.</p>\n<p>Em Ci√™ncia da Computa√ß√£o, <strong>a abstra√ß√£o √© a simplifica√ß√£o de conceitos complexos e gerais em uma interface simples</strong>, tornando-os mais f√°ceis de entender e manipular em diferentes contextos.</p>\n<h2>O problema da duplica√ß√£o</h2>\n<p>Suponha que temos 4 bot√µes com CSS repetido em cada um deles, a√≠ chega um requisito para mudar o background do bot√£o e quem vai dar manuten√ß√£o √© outro desenvolvedor que n√£o sabe se o c√≥digo est√° repetido, onde est√° repetido e quantas vezes est√° repetido, j√° viu o problema n√£o √© ? Teremos bot√µes de cor <code>#XXX</code> e bot√µes de cor <code>#YYY</code>.</p>\n<p>Agora, <strong>imagine se o cen√°rio n√£o for um simples bot√£o, mas algo cr√≠tico para o software</strong> como a gera√ß√£o de JSON Web Token no login. Se esse c√≥digo estiver repetido e alterarmos algo em um local em outro n√£o, podemos ter problemas de vulnerabilidades ou diversos outros bugs que dependem do token.</p>\n<p>A abstra√ß√£o errada, na realidade n√£o passa de um c√≥digo confuso e mal escrito. A abstra√ß√£o errada √© uma abstra√ß√£o que n√£o deveria existir. Ent√£o, seria melhor deixar o c√≥digo repetido ao inv√©s de fazer uma abstra√ß√£o complexa ? Talvez! Mas na maioria das vezes √© apenas um erro de implementa√ß√£o ao definir v√°rias responsabilidades a ela ou abstrair conhecimentos distintos.</p>\n<h2>Princ√≠pios gerais</h2>\n<p>Ent√£o, quando devemos duplicar c√≥digo e quando devemos abstrair ? Essas perguntas tem muitas respostas, mas nenhuma √© realmente um padr√£o convencional que todos os desenvolvedores adotam.</p>\n<h3>Don't Repeat Yourself</h3>\n<p>O DRY foi um princ√≠pio formulado por Andy Hunt e Dave Thomas, no livro <a href=\"https://www.amazon.com.br/Pragmatic-Programmer-Journeyman-Master/dp/020161622X\">The Pragmatic Programmer</a>. Conforme os autores, o DRY surgiu para tentar resolver Os Males da Duplica√ß√£o (The Evils of Duplication). Se voc√™ tem c√≥digo duplicado, voc√™ precisa lembrar-se onde duplicou, mas n√£o √© uma quest√£o de saber se voc√™ vai se lembrar: √© uma quest√£o de quando voc√™ vai esquecer, e a surpresa n√£o ser√° nada agrad√°vel quando acontecer.</p>\n<p>Em outras palavras, quando voc√™ precisa alterar alguma coisa e o c√≥digo est√° repetido por N vezes na sua base de c√≥digo, ent√£o voc√™ ter√° que alterar em N lugares e isso nos leva ao problema descrito na se√ß√£o 1.</p>\n<blockquote>\n<p>‚ÄúCada fragmento de conhecimento deve ter uma representa√ß√£o √∫nica, inequ√≠voca e autorit√°ria dentro de um sistema.‚Äù (The Pragmatic Programmer).</p>\n</blockquote>\n<p>Conforme Hunt e Thomas, <strong>um c√≥digo que representa um conhecimento deve ter uma representa√ß√£o √∫nica, inequ√≠voca e autorit√°ria dentro de um sistema</strong>. Isso significa que DRY n√£o √© apenas sobre n√£o duplicar c√≥digo, mas √©, sobretudo, conhecimento.</p>\n<p>Bem, mas o que isso significa ? Significa que dois c√≥digos duplicados podem ser iguais no momento, mas que podem crescer com seus pr√≥prios requisitos e de forma diferente, ou seja, temos dois fragmentos com representa√ß√µes √∫nicas de conhecimento, nesse caso n√£o faz sentido criar uma abstra√ß√£o pois n√£o viola o principio DRY e voc√™ pode acabar tendo uma abstra√ß√£o que representa inst√¢ncias de conhecimentos diferentes.</p>\n<p>O DRY n√£o espec√≠fica quando √© a hora de abstrair uma duplica√ß√£o ou quando n√£o abstrair, voc√™ simplesmente n√£o deve repetir o mesmo conhecimento. Muitos desenvolvedores fazem abstra√ß√µes precipitadas e acabam tendo uma abstra√ß√£o complexa que tem muitas responsabilidades, tornando o c√≥digo pouco leg√≠vel, manuten√≠vel e test√°vel.</p>\n<p><em>Isso nos leva ao Rule of Three‚Ä¶</em></p>\n<h3>Rule of Three</h3>\n<p>Esse conceito foi proposto por Martin Fowler em seu livro Refactoring.</p>\n<p>Voc√™ deve estar se perguntando o porqu√™ de <strong>tr√™s</strong> ser especial. Geralmente voc√™ acaba tendo duas duplica√ß√µes com uma ou outra leve particularidade e pode ser mantida assim caso voc√™ n√£o saiba os requisitos futuros, mas quando h√° tr√™s duplica√ß√£o √© muito comum ter mais duplica√ß√µes.</p>\n<blockquote>\n<p>‚ÄúA primeira vez que voc√™ faz algo, voc√™ simplesmente faz. Na segunda vez que voc√™ faz algo semelhante, voc√™ pode ter calafrios com a duplica√ß√£o, mas faz a duplica√ß√£o de qualquer maneira. Na terceira vez que voc√™ fizer algo semelhante, voc√™ refatorar√°‚Äù (Martin Fowler - Refactoring).</p>\n</blockquote>\n<p>Rule of Three diz que voc√™ pode duplicar o c√≥digo por duas vezes, mas se voc√™ tiver que repetir pela terceira vez, ent√£o √© hora de refatorar.</p>\n<h3>Write Everything Twice</h3>\n<p>WET se assemelha ao conceito Rule of Three, WET tenta se afastar de otimiza√ß√µes prematuras e permite que voc√™ possa repetir c√≥digo duas vezes mas n√£o tr√™s. No entanto, aqui o sistema pode ser entendido como algo mais abstrato e a abstra√ß√£o depende do contexto.</p>\n<p>Por exemplo, se voc√™ tem bot√µes que se repetem em diferentes p√°ginas, faz sentido voc√™ abstrair em um √∫nico componente. No entanto, se voc√™ tem duas p√°ginas como /blog e /listas que recebem um conjunto de dados e renderizam o t√≠tulo e descri√ß√£o, n√£o h√° essa necessidade pois s√£o componentes de conhecimento distintos.</p>\n<p>Conlin Durbin enfatiza que em caso de duplica√ß√£o, voc√™ deve comentar sobre elas, para quando ocorrer um problema ou tiver que fazer uma abstra√ß√£o, seja mais f√°cil encontr√°-las.</p>\n<h3>Avoid Hasty Abstractions</h3>\n<p>Enfim, chegamos ao AHA que se pron√∫ncia ‚ÄúAha!‚Äù e pode se entendido como ‚ÄúEvite abstra√ß√µes precipitadas‚Äù. Esse conceito foi proposto por Kent C. Dodds em um <a href=\"https://kentcdodds.com/blog/aha-programming\">artigo</a> no ano de 2020. Na mesma linha, Dodds sugere que <strong>devemos evitar abstra√ß√µes precipitadas pois n√£o sabemos todos os requisitos de um sistema de antem√£o</strong>, tanto que pode mudar e evoluir e voc√™ acaba com uma <a href=\"https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction\">abstra√ß√£o errada</a>, conforme cita Sandi Metz.</p>\n<blockquote>\n<p>‚ÄúOtimize primeiro, fa√ßa a mudan√ßa depois.‚Äù (Kent C. Dodds - AHA).</p>\n</blockquote>\n<p>AHA da mais flexibilidade e n√£o imp√µe regras de duplica√ß√µes para refatorar e abstrair, mas ressalta que a import√¢ncia do DRY para n√£o virar um caos absoluto. Primeiramente, diante de duplica√ß√µes, deve-se <strong>otimiz√°-las antes de mudar no sentido de abstrair com clareza</strong>. Quanto a quest√£o de quando mudar, <strong>voc√™ pode mudar quando sentir-se confiante com os casos de uso</strong>.</p>\n<h2>Adapta√ß√£o</h2>\n<p>A duplica√ß√£o de c√≥digo incorre em um custo muito alto na maioria das vezes, mesmo que seja no m√°ximo duas duplica√ß√µes. Talvez, se o problema √© abstra√ß√£o mal feita, ent√£o o problema √© de implementa√ß√£o. Algo que deve resolver isso √© entender como DRY trata conhecimento, para n√£o criarmos abstra√ß√µes com diversas responsabilidades. Ou seja, se voc√™ tem uma abstra√ß√£o que est√° tomando rumos diferentes, caia fora dessa abstra√ß√£o e fa√ßa outra que atende aos requisitos do novo recurso.</p>\n<p>Por exemplo, temos o <strong>ComponenteA</strong> e o <strong>ComponenteB</strong>, eles s√£o uma duplica√ß√£o de c√≥digo com um padr√£o em comum e mesmo conhecimento, ent√£o criamos a Abstra√ß√£oX de forma simples e flex√≠vel por padr√£o (Imagem 1). Digamos que o ComponenteB precisa mudar e √© preciso modificar a Abstra√ß√£oX, de tal modo que adicionamos mais responsabilidade e que n√£o √© usada no ComponenteA, ou seja, isso j√° <strong>deixou de ter o mesmo conhecimento</strong> e possivelmente trar√° problemas futuros. Para resolver isso, vamos separar a Abstra√ß√£oX em Abstra√ß√£oX e Abstra√ß√£oY ou desfazer as abstra√ß√µes e retornar aos Componentes A e B.</p>\n<p><img src=\"https://res.cloudinary.com/ddwnioveu/image/upload/v1685323229/b55d6170_0684_4f19_9f93_480f96b242b3_1344x1306_a053b70020.webp\" alt=\"b55d6170-0684-4f19-9f93-480f96b242b3_1344x1306.webp\">\n.</p>\n<p>Dessa forma, podemos resolver a quest√£o de abstrair sem ter que lidar duplica√ß√µes. Particularmente, as duplica√ß√µes em uma base de c√≥digo grande s√£o bem custosas. Assim, para lidarmos com abstra√ß√µes erradas, analisamos o contexto e o conhecimento, quando n√£o faz mais sentido essa abstra√ß√£o, removemos a abstra√ß√£o. N√£o precisamos ter que duplicar c√≥digo uma, duas ou tr√™s vezes a espera de abstrair e evitar dores de cabe√ßa.</p>\n<p><strong>Essa √© s√≥ outra vis√£o, portanto, fica a sua escolha testar e verificar qual se sai melhor pra voc√™.</strong></p>\n<h3>Al√©m disso‚Ä¶</h3>\n<p><strong>Evite abstra√ß√µes excessivamente gen√©ricas</strong>, as abstra√ß√µes podem ser t√£o gen√©ricas que perdem sua utilidade. Por exemplo, criar uma abstra√ß√£o de \"Animal\" para um sistema que s√≥ tem um tipo de objeto ‚ÄúCachorro‚Äù pode ser excessivamente gen√©rico e n√£o agregar valor. As abstra√ß√µes devem ser espec√≠ficas e relevantes para o problema que se est√° tentando resolver.</p>\n<p><strong>Evite a duplica√ß√£o de c√≥digo em testes</strong>, seus testes devem ser t√£o DRY quanto poss√≠vel e evite duplicar c√≥digo em v√°rios testes.</p>\n<p>Para a evolu√ß√£o do software, <strong>as abstra√ß√µes devem ser flex√≠veis o suficiente para lidar com mudan√ßas no sistema</strong> e permitir que o software evolua sem muita dor.</p>\n<p>No que tange a legibilidade do c√≥digo, <strong>as abstra√ß√µes devem tornar o c√≥digo mais leg√≠vel e n√£o o contr√°rio</strong>.</p>\n<h2>Para concluir</h2>\n<p>Criar abstra√ß√µes √© complicado e requer um bom entendimento do problema a ser resolvido. Se uma abstra√ß√£o n√£o for bem projetada, ela pode acabar sendo mais dif√≠cil de entender e manter do que o pr√≥prio c√≥digo duplicado.</p>\n<p>No entanto, isso n√£o significa que a duplica√ß√£o de c√≥digo seja a melhor alternativa. A duplica√ß√£o pode levar a problemas de manuten√ß√£o, como corre√ß√µes duplicadas ou c√≥digo obsoleto, al√©m de dificultar a leitura e a compreens√£o do c√≥digo. A duplica√ß√£o aumenta o risco de erros, pois, se uma corre√ß√£o √© feita em um lugar, pode ser esquecido de ser feito em outro lugar onde o c√≥digo √© duplicado.</p>\n<p>A solu√ß√£o para evitar a duplica√ß√£o de c√≥digo e ainda assim criar abstra√ß√µes √∫teis √© encontrar o equil√≠brio certo entre abstra√ß√£o e detalhes de implementa√ß√£o. √â importante pensar em como a abstra√ß√£o pode ser √∫til no longo prazo e se ela pode ser adaptada facilmente para futuras mudan√ßas no sistema. √â importante tamb√©m criar abstra√ß√µes que sejam simples, claras e facilmente compreens√≠veis.</p>\n<h2>Refer√™ncias</h2>\n<ul>\n<li><a href=\"https://www.amazon.com.br/Pragmatic-Programmer-Journeyman-Master/dp/020161622X\">The Pragmatic Programmer</a></li>\n<li><a href=\"https://www.amazon.com.br/Refactoring-Improving-Design-Existing-Code/dp/0134757599/ref=pd_lpo_1?pd_rd_w=y2LPp&#x26;content-id=amzn1.sym.036a9a17-ef5c-4c87-bb2c-81a28b5a8e68&#x26;pf_rd_p=036a9a17-ef5c-4c87-bb2c-81a28b5a8e68&#x26;pf_rd_r=T1Z6DP66YJS241C8ZYSX&#x26;pd_rd_wg=NXa55&#x26;pd_rd_r=4883151e-42e5-403c-981f-c973bb258c03&#x26;pd_rd_i=0134757599&#x26;psc=1\">Refactoring</a></li>\n<li><a href=\"https://kentcdodds.com/blog/aha-programming\">AHA Programming</a></li>\n<li><a href=\"https://dev.to/wuz/stop-trying-to-be-so-dry-instead-write-everything-twice-wet-5g33\">Stop trying to be so DRY, instead Write Everything Twice (WET)</a></li>\n<li><a href=\"https://sandimetz.com/blog/2016/1/20/the-wrong-abstraction\">The Wrong Abstraction</a></li>\n</ul>\n",
            "url": "https://rwietterc.xyz/blog/article/preferir-a-duplicacao-sobre-a-abstracao-e-realmente-o-melhor-caminho",
            "title": "Preferir a duplica√ß√£o sobre a abstra√ß√£o √© realmente o melhor caminho ?",
            "summary": "A duplica√ß√£o de c√≥digo √© algo muito ruim, uma abstra√ß√£o confusa √© t√£o ruim quanto. Ent√£o qual seria a melhor abordagem para isso ?",
            "date_modified": "2023-05-29T01:45:54.431Z",
            "date_published": "2023-05-29T01:45:54.431Z",
            "author": {
                "name": "Maur√≠cio Witter",
                "url": "https://twitter.com/rwietter"
            },
            "tags": [
                "tech"
            ]
        },
        {
            "id": "https://rwietterc.xyz/blog/article/programacao-declarativa-por-que-voce-deveria-conhecer",
            "content_html": "<blockquote>\n<p>A pr√°tica da leitura cr√≠tica leva √† habilidade de reescrever, no que lhe concerne, leva a uma escrita melhor (The Elements of Programming Style).</p>\n</blockquote>\n<h2>Introdu√ß√£o</h2>\n<p>Sabemos que as linguagens de programa√ß√£o podem ser classificadas de diversas formas, por Paradigmas (Orienta√ß√£o a Objetos, Funcional, Procedural, L√≥gico, entre outros); tamb√©m podem ser classificadas por type system forte e fraco; pelo n√≠vel de abstra√ß√£o (Machine code, Low level Assembler ou High level); se s√£o compiladas ou interpretadas, ou ent√£o pelo estilo imperativo, ou declarativo. Esse √∫ltimo que iremos discutir neste artigo.</p>\n<p>Entender o que s√£o os estilos de programa√ß√£o, suas caracter√≠sticas e como se comportam vai ajudar voc√™ a entender melhor outros paradigmas como o Paradigma Funcional e L√≥gico, al√©m de que com essa abordagem, voc√™ poder√° se ater melhor ao design do seu c√≥digo e escrever melhor.</p>\n<p>Voc√™ j√° deve ter ouvido falar que a hist√≥ria da programa√ß√£o de computadores come√ßou com computadores eletromec√¢nicos ‚Äî ou voc√™ pode considerar at√© antes disso ‚Äî com a codifica√ß√£o de algoritmos por meio de cart√µes perfurados utilizando a √Ålgebra Booleana e Assembler l√° pelas d√©cadas de 30 e 40. As linguagens de programa√ß√£o comerciais tamb√©m come√ßaram a surgir nessas d√©cadas seguintes.</p>\n<p>Mas quanto ao estilo de programa√ß√£o, quando surgiu ? Bom, o estilo imperativo foi o primeiro estilo de codifica√ß√£o que surgiu, com as primeiras linguagens de estudo short code, esse estilo foi difundido por muito tempo j√° que ele √© parecido com a nossa comunica√ß√£o, tal como uma receita de bolo. J√° o estilo declarativo n√£o se tem uma data ou evento espec√≠fico, mas surgiu em algum grau com a linguagem LISP (1958) e principalmente com o Prolog (1972), depois foi aprofundado em outras linguagens l√≥gicas e funcionais como o Haskell (1990).</p>\n<p>No lado das linguagens imperativas temos, por exemplo, FORTRAN, ALGOL, Pascal, Ada e C entre outras, j√° no lado da linguagens declarativas temos, por exemplo: HTML, CSS, YAML e SQL. √â v√°lido lembrar que as linguagens JavaScript, Java, PHP e Rust, por exemplo, seguem o paradigma imperativo mas incluem abstra√ß√µes que voc√™ pode utilizar para tornar seu c√≥digo mais declarativo.</p>\n<h2>Estilo de Programa√ß√£o Imperativo</h2>\n<p>O estilo imperativo concentra-se em como executar o c√≥digo detalhe a detalhe e define o fluxo de controle de como instru√ß√µes alteram o estado de um programa. Para ficar mais claro, o c√≥digo imperativo ordena comandos ao computador, diz exatamente o que precisa fazer, como precisa fazer e em que ordem exata precisa executar, de tal modo que n√£o h√° abstra√ß√µes.</p>\n<p>A exemplo, o c√≥digo abaixo √© um algoritmo de ordena√ß√£o chamado de bubble Sort que percorre o array N¬≤ vezes fazendo a troca dos elementos at√© orden√°-lo completamente. Nesse c√≥digo h√° a constru√ß√£o da l√≥gica e fluxo de controle, al√©m da mutabilidade do array.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F0a640f32-3aa6-4420-a048-16e4174e1a81_1348x1350.png\" alt=\"buble sort\"></p>\n<p>O c√≥digo imperativo serve a prop√≥sitos espec√≠ficos como a programa√ß√£o de c√≥digo de baixo n√≠vel para o qual existem poucas ou nenhuma abstra√ß√£o. Na maioria das vezes, tal estilo √© verboso, ruim para depurar, ler e para dar manuten√ß√£o, especialmente em grandes sistemas e equipes. Em um c√≥digo imperativo h√° muitos loops, condicionais e muta√ß√µes de estado que facilmente resultam em bugs.</p>\n<p>Assim sendo, a programa√ß√£o imperativa √© mais adequada para tarefas onde √© importante controlar o estado do programa e gerenciar o fluxo de execu√ß√£o. Mas, vale ressaltar que a programa√ß√£o imperativa pode ser dif√≠cil de paralelizar.</p>\n<p>Vamos a um exemplo pr√°tico onde utilizarei a linguagem Typescript. Vamos calcular o fatorial de um n√∫mero natural positivo, cuja f√≥rmula est√° na imagem abaixo.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff5c2b102-a99c-45d4-a8ee-71d106821de5_487x157.png\" alt=\"fatorail\"></p>\n<p>Primeiramente, temos um c√≥digo imperativo, onde avaliamos se N √© menor ou igual a zero e retornamos 1, do contr√°rio fazemos um loop at√© N-1 e multiplicamos o valor de N pelo √≠ndice fazendo a mutabilidade de N, ao final retornamos N. Perceba que nesse c√≥digo n√≥s programamos a l√≥gica de calcular o fatorial de N, mas tamb√©m programamos o fluxo de controle.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F36ca5586-ae84-49f3-9be8-23b7b7e716d9_1040x630.png\" alt=\"fatorial imperativo\"></p>\n<p>Vejamos agora um exemplo de um fatorial que utiliza um conceito da programa√ß√£o funcional que se chama recurs√£o, que nada mais √© do que o processo de chamar uma fun√ß√£o dentro dela mesma at√© que uma condi√ß√£o interrompa a execu√ß√£o. Nesse c√≥digo abaixo do fatorial com recurs√£o, n√≥s abstra√≠mos o fluxo de controle e definimos apenas a l√≥gica do algoritmo. Primeiramente, temos a mesma condi√ß√£o de retornar 1 se o N for negativo ou igual a zero e depois retornamos N multiplicado pelo valor retornado pela chamada recursiva decrementando N em -1, isso ser√° repetido at√© que N seja zero. Perceba que economizamos linhas de c√≥digo e ficou bem mais leg√≠vel.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5163b037-876f-43f8-a9b0-b78f597733c3_1040x450.png\" alt=\"fatorial recursivo\"></p>\n<p>Mais a frente veremos outros exemplos utilizando outras abstra√ß√µes que tornam o c√≥digo imut√°vel e conciso.</p>\n<h3>Caracter√≠sticas do c√≥digo Imperativo</h3>\n<ul>\n<li>Execu√ß√£o sequencial;</li>\n<li>Estado mut√°vel;</li>\n<li>Gerenciamento manual de mem√≥ria;</li>\n<li>N√£o-determin√≠stico.</li>\n</ul>\n<h3>Vantagens</h3>\n<ul>\n<li>Dom√≠nio expl√≠cito sobre o fluxo de controle;</li>\n<li>Efici√™ncia em uso de mem√≥ria (se utilizado corretamente);</li>\n</ul>\n<h3>Desvantagens</h3>\n<ul>\n<li>C√≥digo verboso;</li>\n<li>Mutabilidade de estado;</li>\n<li>Efeitos colaterais.</li>\n</ul>\n<h2>Estilo de Programa√ß√£o Declarativo</h2>\n<p>O estilo declarativo, por outro lado, √© um modelo de abstra√ß√£o de alto n√≠vel que est√° mais pr√≥ximo do idioma ingl√™s, tal que foi seu objetivo inicial. Nesse estilo, o programador vai declarar o que deve ser computado ao inv√©s de como deve ser computado, vamos delegar a implementa√ß√£o de controle para a linguagem, para assim direcionar nossos esfor√ßos de programa√ß√£o e manuten√ß√£o para a l√≥gica e computabilidade.</p>\n<p>Muitas linguagens que aplicam esse estilo tentam minimizar ou eliminar os efeitos colaterais descrevendo o que o programa deve realizar em termos do dom√≠nio do problema, em vez de descrever como realiz√°-lo como uma sequ√™ncia das primitivas da linguagem de programa√ß√£o.</p>\n<p>Conforme R. Kowalski em Communications of the ACM, Volume 22, Issue 7, July 1979, um algoritmo √© composto pela l√≥gica e pelo fluxo de controle. Na programa√ß√£o declarativa, a linguagem tende a abstrair a fluxo de controle e deixar para o programador desenvolver a l√≥gica.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F649d082d-40e8-4567-b23f-3779291ec802_452x59.png\" alt=\"algorithm\"></p>\n<p>Lloyd, JW. no artigo Practical advantages of declarative programming, explica que a programa√ß√£o declarativa pode ser entendida como ‚Äúforte‚Äù e ‚Äúfraca‚Äù. Isto √©, no sentido ‚Äúforte‚Äù, o programador s√≥ fornece a l√≥gica do que precisa e no sentido ‚Äúfraco‚Äù, o programador precisa fornecer a l√≥gica e estender o fluxo de controle para computar o resultado esperado.</p>\n<p>O paralelismo √© um dos pilares da programa√ß√£o declarativa, assim como a abstra√ß√£o. A avalia√ß√£o do resultado deve depender exclusivamente da entrada, pois dessa forma, evita-se o acoplamento e elimina efeitos colaterais.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6c5f0443-0982-4134-bbd1-fd97b6465138_689x396.png\" alt=\"pilares da programa√ß√£o declarativa\"></p>\n<h3>Caracter√≠sticas do c√≥digo Declarativo</h3>\n<ul>\n<li>Stateless (estado interno n√£o √© relembrado entre chamadas);</li>\n<li>Determin√≠stico (as mesmas chamadas produzem os mesmos resultados);</li>\n<li>Paralelismo (execu√ß√£o de m√∫ltiplas tarefas simultaneamente);</li>\n<li>Transpar√™ncia Referencial (uma express√£o pode ser substitu√≠da por seu valor sem afetar o comportamento);</li>\n<li>Modelo sem√¢ntico claro e conciso;</li>\n<li>Abstra√ß√µes de alto n√≠vel;</li>\n<li>Independ√™ncia.</li>\n</ul>\n<h3>Vantagens</h3>\n<ul>\n<li>Legibilidade;</li>\n<li>Concis√£o;</li>\n<li>Recupera√ß√£o de erros;</li>\n<li>Reutiliza√ß√£o;</li>\n<li>Comutatividade;</li>\n<li>Sem efeitos colaterais;</li>\n<li>Idempot√™ncia.</li>\n</ul>\n<h3>Desvantagens</h3>\n<ul>\n<li>Baixo n√≠vel de controle;</li>\n<li>Dificuldades de programa√ß√£o com estado (Stateful).</li>\n</ul>\n<p>T√°, entendi que tem benef√≠cios e tal. Mas, programar declarativamente significa apenas remover loops e condicionais do c√≥digo ? √â claro que n√£o, voc√™ pode aplicar em diversas situa√ß√µes, lembre-se que programa√ß√£o declarativa n√£o √© apenas sobre abstra√ß√£o, mas sobre legibilidade tamb√©m.</p>\n<p>No exemplo abaixo temos um c√≥digo que faz stream de um arquivo CSV. O c√≥digo faz a convers√£o de um Node Stream para Web Stream. Primeiro, usamos um objeto Transform para converter o CSV em JSON e coloc√°-lo na fila para o pr√≥ximo Transform pegar os peda√ßos de JSON e filtrar as propriedades. Por √∫ltimo, criamos um Writable Stream para escrever os dados na resposta da requisi√ß√£o. Perceba que esse c√≥digo est√° bem ruim de ler, pois n√£o da para ter muita no√ß√£o do que faz o que a√≠.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb60a4836-82ae-494c-8636-7ce68198187e_1394x1440.png\" alt=\"streams imperativo\"></p>\n<p>Agora, veremos uma maneira mais declarativa de fazer o mesmo c√≥digo acima. Os passos seguem os mesmos, a diferen√ßa √© que dividimos o c√≥digo e adicionamos mais legibilidade a ele. Primeiramente, escrevemos cada fun√ß√£o com a sua devida responsabilidade.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb5303173-bd1b-41a6-8a4c-472286613aea_1840x1666.png\" alt=\"streams fun√ß√µes\"></p>\n<p>Agora criamos o pipeline chamando as fun√ß√µes e repassando o resultado de uma fun√ß√£o para a pr√≥xima. Convenhamos que, agora voc√™ bate o olho no c√≥digo abaixo e j√° sabe o que ele faz, n√© ? Muito diferente do que aquele c√≥digo anterior.</p>\n<p><img src=\"https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F774a8622-501d-4609-ab90-1fa4fe6711d2_1040x450.png\" alt=\"streams pipeline\"></p>\n<p>A prop√≥sito, se quiser entender mais sobre streams, cola nesse <a href=\"https://www.youtube.com/watch?v=-IpRYbL4yMk&#x26;feature=youtu.be\">v√≠deo do Erick Wendel</a>, do qual esse exemplo foi tirado.</p>\n<h2>Use Cases</h2>\n<p>Voc√™ como Engenheiro de Software precisa conhecer bem as diversas classifica√ß√µes de linguagens e suas tecnologias para fazer boas escolhas e evitar tempo e dinheiro perdido. Na Engenharia de Software n√£o existe bala de prata, portanto √© necess√°rio conhecer as carater√≠sticas em geral. Aqui est√£o alguns casos de uso para cada estilo, embora existem muitos outros cen√°rios.</p>\n<h3>Estilo Imperativo</h3>\n<ul>\n<li>Sistemas de baixo n√≠vel: programa√ß√£o de sistemas de baixo n√≠vel, como drivers de dispositivo, sistemas operacionais e firmware. Essas tarefas requerem manipula√ß√£o direta de locais de mem√≥ria e registros de hardware, sendo melhor realizado usando um estilo imperativo.</li>\n<li>Jogos e simula√ß√µes: jogos e simula√ß√µes geralmente envolvem algoritmos complexos e atualiza√ß√µes em tempo real, sendo mais f√°ceis de expressar usando um estilo imperativo. A programa√ß√£o imperativa fornece controle expl√≠cito sobre o fluxo do programa, tornando mais f√°cil escrever mecanismos de jogo eficientes e simula√ß√µes f√≠sicas.</li>\n<li>Opera√ß√µes de E/S: a programa√ß√£o imperativa √© adequada para tarefas que envolvem muitos estados mut√°veis ‚Äã‚Äãe efeitos colaterais, como opera√ß√µes de E/S. Programas imperativos podem manipular diretamente locais de mem√≥ria e registros de dispositivos, tornando-os adequados para essas tarefas.</li>\n</ul>\n<h3>Estilo Declarativo</h3>\n<ul>\n<li>Desenvolvimento Web: a programa√ß√£o declarativa √© frequentemente usada no desenvolvimento Web, onde HTML, CSS e outras linguagens de marca√ß√£o s√£o usadas para definir a estrutura e a apar√™ncia das p√°ginas da Web. A programa√ß√£o declarativa permite que os desenvolvedores especifiquem a apar√™ncia da p√°gina, em vez de como obter essa apar√™ncia.</li>\n<li>Processamento de dados: a programa√ß√£o declarativa √© adequada para tarefas de processamento de dados, como consultar bancos de dados e manipular grandes conjuntos de dados. Linguagens de programa√ß√£o declarativas como SQL fornecem uma interface de alto n√≠vel para interagir com dados, tornando mais f√°cil escrever consultas e transforma√ß√µes complexas.</li>\n<li>Programa√ß√£o funcional: a programa√ß√£o funcional enfatiza o uso de fun√ß√µes puras e estruturas de dados imut√°veis. A programa√ß√£o funcional √© adequada para tarefas que exigem muita simultaneidade ou paralelismo, pois fun√ß√µes puras n√£o t√™m efeitos colaterais e podem ser executadas em paralelo com seguran√ßa.</li>\n</ul>\n<h2>Estado da Arte</h2>\n<blockquote>\n<p>A crescente popularidade das linguagens de programa√ß√£o declarativas decorre da simplicidade inerente do paradigma, cujo alto n√≠vel de abstra√ß√£o garante estilos de programa√ß√£o leg√≠veis por humanos. ‚Äî MOTTOLA A.. Design and implementation of a declarative programming language in a reactive environment. 2005.</p>\n</blockquote>\n<p>Muitas das linguagens imperativas come√ßaram a trazer novos recursos na √∫ltima d√©cada para o estilo declarativo. Um exemplo √© o Java 8 que trouce uma nova API para Streams para operar em cole√ß√µes usando express√µes lambda abstraindo o c√≥digo imperativo, inclusive voc√™ pode encontrar uma compara√ß√£o aqui.</p>\n<p>No Front-end tamb√©m ganhamos muito mais produtividade e seguran√ßa com os frameworks declarativos que surgiram nos √∫ltimos anos, como o React, o Vue, o Angular, o Next, o Nuxt entre outros.</p>\n<p>Na √°rea de cloud-computing, v√°rias ferramentas no estilo declarativo como o Terraform, Ansible, Docker, Kubernets auxiliam a colocar aplica√ß√µes em produ√ß√£o com escalabilidade, seguran√ßa e confiabilidade, fazendo o CI/CD.</p>\n<h2>Conclus√£o</h2>\n<p>N√£o existe de fato uma linguagem puramente declarativa, o que torna um c√≥digo declarativo ou imperativo √© como ele √© codificado. As linguagens que oferecem maiores recursos para programar no estilo declarativo s√£o linguagens com os paradigmas l√≥gico e funcional, pois se aproximam mais das caracter√≠sticas do estilo declarativo, embora o estilo depende da sua codifica√ß√£o como o uso de abstra√ß√µes, imutabilidade, determinismo e transpar√™ncia referencial.</p>\n<p>Portanto, pense na hora de programar que seu algoritmo precisa de um l√≥gica e um fluxo de controle, a partir da√≠, procure recursos na sua linguagem que abstraiam o fluxo de controle e deixe sob sua responsabilidade a implementa√ß√£o da l√≥gica. Os benef√≠cios disso s√£o melhor legibilidade e seguran√ßa, pois voc√™ abstraiu detalhes menores de controle e tamb√©m ganha interoperabilidade.</p>\n<p>√Ä medida que a programa√ß√£o declarativa continua a evoluir, √© prov√°vel que ela desempenhe um papel cada vez mais importante no futuro do desenvolvimento de software. Portanto, aprender sobre programa√ß√£o declarativa pode ser um investimento valioso para qualquer desenvolvedor que deseja melhorar sua habilidade em criar c√≥digo de alta qualidade e eficiente.</p>\n<p>Se voc√™ chegou at√© aqui, espero que tenha tido uma √≥tima leitura e que esse conte√∫do possa ter lhe ajudado de alguma forma. Obrigado por ler! Qualquer d√∫vida, agrega√ß√£o ou corre√ß√£o, deixe nos coment√°rios üíö</p>\n<h2>Refer√™ncias</h2>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Declarative_programming#:~:text=Declarative%20programming%20is%20a%20non,by%20a%20declarative%20programming%20style.\">Declarative Programming</a></li>\n<li><a href=\"https://dl.acm.org/doi/10.1145/359131.359136\">Algorithm = logic + control</a></li>\n<li><a href=\"https://www.cse.chalmers.se/~oloft/Papers/wm96.pdf\">A Note on Declarative Programming Paradigms and the Future of Definitional Programming</a></li>\n<li><a href=\"https://research-information.bris.ac.uk/en/publications/practical-advantages-of-declarative-programming\">Practical advantages of declarative programming</a></li>\n<li><a href=\"https://codedocs.org/what-is/declarative-programming\">CodeDocs - Declarative programming</a></li>\n<li><a href=\"https://blog.ndepend.com/imperative-programming-in-depth/\">Imperative Programming in Depth</a></li>\n</ul>\n",
            "url": "https://rwietterc.xyz/blog/article/programacao-declarativa-por-que-voce-deveria-conhecer",
            "title": "Programa√ß√£o declarativa: por que voc√™ deveria conhecer ?",
            "summary": "Programa√ß√£o declarativa √© uma abordagem leg√≠vel, melhor de manter e paralelizar, que pode melhorar em muitos n√≠veis o seu c√≥digo.",
            "date_modified": "2023-02-25T01:22:12.570Z",
            "date_published": "2023-02-25T01:22:12.570Z",
            "author": {
                "name": "Maur√≠cio Witter",
                "url": "https://twitter.com/rwietter"
            },
            "tags": [
                "tech"
            ]
        },
        {
            "id": "https://rwietterc.xyz/blog/article/fluxo-bidirecional-no-react-com-o-hook-use-imperative-handle",
            "content_html": "<h3>Introdu√ß√£o</h3>\n<p>Ol√° üëã</p>\n<p>Hoje vamos falar de fluxos unidirecional e bidirecional no Nextjs. Por padr√£o, no React, os dados fluem de uma maneira: do <em>owner</em> para o <em>child</em>, ou seja, no fluxo unidirecional, mas por vezes precisamos acessar determinada fun√ß√£o ou realizar uma mudan√ßa de estado em um componente <em>child</em> pelo componente <em>owner</em>, isto √©, de forma bidirecional, expondo um dado do componente inferior para o superior.</p>\n<p><img src=\"https://raw.githubusercontent.com/rwietter/gatsby-blog/master/static/bidirecional.png\" alt=\"fluxo bidirecional de dados dos componentes React. Componente owner passando uma propriedade ref para o componente child\"></p>\n<p>Para resolver isso, podemos elevar o estado (<em>Lifting State Up</em>) de um componente <em>child</em> para um componente <em>owner</em> que ir√° conter a l√≥gica do componente <em>child</em>. Outra forma √© utilizar a <em>Context API</em> ou outro gerenciador de estado global para compartilhamento de estado.  Mas, tamb√©m podemos expor uma fun√ß√£o ou estado para o componente <em>owner</em> por meio do <em>hook</em> <code>useImperativeHandle</code> e o <em>hook</em> <code>useRef</code> passando a refer√™ncia da propriedade para o componente <em>owner</em>. Vamos ver como isso funciona.</p>\n<p>Conforme a documenta√ß√£o do React diz sobre o <em>hook</em> <code>useImperativeHandle</code>:</p>\n<blockquote>\n<p>O <em>hook</em> <code>useImperativeHandle</code>¬†personaliza o valor da inst√¢ncia que est√° exposta aos componentes <em>owner</em> ao usar¬†<code>ref</code>. Como sempre, na maioria dos casos, seria bom evitar um c√≥digo imperativo usando refs.</p>\n</blockquote>\n<p>E sobre o <em>hook</em> <code>useRef</code>:</p>\n<blockquote>\n<p><code>useRef</code>¬†retorna um objeto¬†<code>ref</code>¬†mut√°vel, no qual a propriedade¬†<code>current</code>¬†√© inicializada para o argumento passado (<code>initialValue</code>). O objeto retornado persistir√° durante todo o ciclo de vida do componente.</p>\n</blockquote>\n<p>Ou seja, o <em>hook</em> <code>useRef</code> cria um objeto mut√°vel que recebe um valor inicial no qual podemos mudar durante o ciclo de vida do componente, j√° o <em>hook</em>  <code>useImperativeHandle</code> vai nos ajudar a expor nossa propriedade para o componente superior de forma imperativa utilizando essa refer√™ncia.</p>\n<h3>Vamos ao exemplo pr√°tico</h3>\n<p>Vamos come√ßar criando um <em>app</em> com o <em>framework</em> <em>Nextjs</em>. Rode no seu terminal os comandos abaixo para criar o projeto, em seguida entre no diret√≥rio e execute a aplica√ß√£o.</p>\n<pre><code># crie o projeto\nyarn create next-app --typescript\n\n# entre no diret√≥rio criado\ncd my-app\n\n# compila e executa o projeto em http://localhost:3000\nyarn dev\n</code></pre>\n<p>Projeto criado! Agora, vamos at√© o <code>index.tsx</code> em <code>/pages/index.tsx</code> e vamos remover o c√≥digo desnecess√°rio, deixe como no exemplo abaixo.</p>\n<pre><code>import type { NextPage } from 'next'\n\nconst Home: NextPage = () => {\n  return (\n    &#x3C;div>\n \n    &#x3C;/div>\n  )\n}\n\nexport default Home\n</code></pre>\n<p>Vamos criar nosso componente <code>Modal</code>. Crie um diret√≥rio <code>components</code> na raiz do projeto e dentro dele um diret√≥rio <code>modal</code> e crie um arquivo <code>index.tsx</code>. Dentro do componente modal adicione uma <code>label</code> e um <code>input</code> com a l√≥gica de abrir o modal quando o estado for verdadeiro (<em>Short Circuit Evaluation</em>).</p>\n<pre><code>// components/modal/index.tsx\nimport { useState } from \"react\";\n\nconst Modal: React.FC = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  \n  return (\n    &#x3C;>\n      {isModalOpen &#x26;&#x26; (\n        &#x3C;div className=\"modal\">\n          &#x3C;label htmlFor=\"nome\">Qual o seu nome ?&#x3C;/label>\n          &#x3C;input name=\"nome\" />\n        &#x3C;/div>\n      )}\n    &#x3C;/>\n  );\n};\n\nexport default Modal;\n</code></pre>\n<p>Vamos importar o <code>Modal</code> no componente <code>Home</code> e adicionar um bot√£o logo abaixo que vai disparar um evento ao receber um <code>click</code>. Esse evento precisa mudar o estado do modal para <code>true</code> para que seja exibido em tela. Logo, precisamos referenciar a fun√ß√£o que troca o estado do modal para o componente <code>Home</code>.</p>\n<pre><code>import type { NextPage } from 'next'\nimport Modal from '../components/modal'\n\nconst Home: NextPage = () => {\n  return (\n    &#x3C;main>\n      &#x3C;Modal />\n      &#x3C;button onClick={() => {}} className=\"open-modal-button\">\n        Open Modal\n      &#x3C;/button>\n    &#x3C;/main>\n  )\n}\n\nexport default Home\n</code></pre>\n<p>Antes vamos adicionar um estilo ao modal. Crie um arquivo de estilo <code>styles/modal.css</code>, esse estilo ir√° posicionar o modal sobre os outros elementos, centralizar seus componentes e adicionar uma largura e altura. Voc√™ pode copiar o CSS nesse <a href=\"https://github.com/rwietter/blog-posts/blob/main/my-app/styles/modal.css\">link</a>.</p>\n<p>No estilo <code>global.css</code> adicione o c√≥digo abaixo para centralizar o conte√∫do.</p>\n<pre><code>/* styles/global.css */\nmain {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n</code></pre>\n<p>Agora basta importar o arquivo <code>modal.css</code>em <code>pages/_app.tsx</code>. Dessa forma o estilo j√° ser√° aplicado ao nosso componente <code>Modal</code>.</p>\n<pre><code>// pages/_app.tsx\nimport '../styles/globals.css';\nimport '../styles/modal.css';\n</code></pre>\n<p>Agora precisamos fazer o fluxo inverso, vamos referenciar a fun√ß√£o que vai alterar o estado para que o componente <em>owner</em> possa acessar. No modal precisamos receber a refer√™ncia que ser√° criada no componente <em>owner</em>, essa refer√™ncia √© obtida como segundo par√¢metro, tamb√©m vamos adicionar o <strong>tipo</strong> aos nossos par√¢metros com <em>generic types</em>.  Tamb√©m, vamos expor a fun√ß√£o <code>handleOpenModal</code> com o <em>hook</em> <code>useImperativeHandle</code>, como primeiro argumento ele recebe a refer√™ncia criada no <em>owner</em>, como segundo argumento uma <em>callback</em> que ir√° retornar um objeto com nossa fun√ß√£o que queremos acessar pela refer√™ncia criada no <em>owner</em>. Por fim, vamos exportar o componente como argumento da fun√ß√£o <code>forwardRef</code>, essa fun√ß√£o ir√° encaminhar a refer√™ncia ao componente <em>owner</em>.</p>\n<pre><code>import {\n  forwardRef,\n  ForwardRefRenderFunction,\n  ReactNode,\n  useImperativeHandle,\n  useState,\n} from \"react\";\n\ninterface ModalProps {\n  children?: ReactNode;\n}\n\nconst Modal: ForwardRefRenderFunction&#x3C;ModalRef, ModalProps> = (props, ref) => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleOpenModal = () => setIsModalOpen((state) => !state);\n  \n  useImperativeHandle(ref, () => ({\n    handleOpenModal,\n  }));\n\n  return (\n    &#x3C;>\n      {/* ... */}\n    &#x3C;/>\n  )\n}\n\nexport default forwardRef(Modal);\n</code></pre>\n<p>Agora, no componente <code>Home</code>, precisamos criar a <code>ref</code> e repassar para o componente modal.  Utilizamos o <em>hook</em> <code>useRef</code> para criar uma <code>ref</code> e passamos como <em>generic type</em> a interface <code>ModalRef</code> que espec√≠fica a fun√ß√£o que iremos referenciar. Exporte essa interface e importe no componente Modal, pois precisamos adicionar o <em>type</em> que recebemos como atributo do componente.</p>\n<pre><code>export interface ModalRef {\n  handleOpenModal: () => void;\n}\n\nconst Home: NextPage = () => {\n  const modalRef = useRef&#x3C;ModalRef>(null);\n\n  return (\n    &#x3C;>\n      &#x3C;Modal ref={modalRef} />\n      &#x3C;button onClick={() => {}}>Open Modal&#x3C;/button>\n    &#x3C;/>\n  )\n}\n\nexport default Home;\n</code></pre>\n<p>Ainda no componente <code>Home</code>, s√≥ precisamos criar uma fun√ß√£o que ir√° receber a refer√™ncia da fun√ß√£o do <code>Modal</code> e repassar para a propriedade <code>onClick</code>. Feito isso, j√° iremos ter o modal funcional.</p>\n<pre><code>const Home: NextPage = () => {\n  const modalRef = useRef&#x3C;ModalRef>(null);\n  const handleOpenModal = () => modalRef.current?.handleOpenModal();\n\n  return (\n    &#x3C;>\n      &#x3C;Modal ref={modalRef} />\n      &#x3C;button onClick={handleOpenModal}>Open Modal&#x3C;/button>\n    &#x3C;/>\n  )\n}\n</code></pre>\n<p>Para finalizar, vamos adicionar um bot√£o de <code>close</code> no modal para fechar quando estiver aberto.</p>\n<pre><code>return (\n  &#x3C;>\n    {isModalOpen &#x26;&#x26; (\n      &#x3C;div className=\"modal\">\n        &#x3C;label htmlFor=\"nome\">Qual o seu nome ?&#x3C;/label>\n        &#x3C;input name=\"nome\" />\n        &#x3C;button onClick={handleOpenModal}>Close&#x3C;/button>\n      &#x3C;/div>\n    )}\n  &#x3C;/>\n);\n</code></pre>\n<h3>Conclus√£o</h3>\n<p>Essa √© uma forma simples de alterar um estado quando n√£o podemos ou n√£o queremos criar a l√≥gica de uma funcionalidade em um componente que n√£o precisa saber dessa funcionalidade ou n√£o queremos utilizar um gerenciador de estado.  N√£o √© muito comum, nem recomend√°vel utilizar c√≥digo imperativo, mas quando necess√°rio pode ser muito √∫til :)</p>\n<p>At√© mais ‚öõ üëã</p>\n<hr>\n<h3>Refer√™ncias</h3>\n<ul>\n<li><a href=\"https://pt-br.reactjs.org/docs/hooks-reference.html#useimperativehandle\">Hook useImperativeHandle</a></li>\n<li><a href=\"https://pt-br.reactjs.org/docs/hooks-reference.html#useref\">Hook useRef</a></li>\n<li><a href=\"https://pt-br.reactjs.org/docs/react-api.html#reactforwardref\">ForwardRef</a></li>\n<li><a href=\"https://github.com/rwietter/blog-posts/tree/main/my-app\">Reposit√≥rio do projeto</a></li>\n</ul>\n",
            "url": "https://rwietterc.xyz/blog/article/fluxo-bidirecional-no-react-com-o-hook-use-imperative-handle",
            "title": "Fluxo bidirecional no React com useImperativeHandle",
            "summary": "Expondo uma fun√ß√£o de um componente child para o componente owner no React",
            "date_modified": "2022-04-25T11:59:22.126Z",
            "date_published": "2022-04-25T11:59:22.126Z",
            "author": {
                "name": "Maur√≠cio Witter",
                "url": "https://twitter.com/rwietter"
            },
            "tags": [
                "tech"
            ]
        }
    ]
}